<app-custom-header (click)="goHome()"></app-custom-header>

<ion-content>
  <div class="container-mayor">
    <div class="background-container-firts">
      <h1 class="custom-header h1">¿En qué podemos ayudarte?</h1>
      <h2 class="custom-header h2">Selecciona una opción</h2>
      <ion-item class="background-services">
        <ion-grid>
          <ion-row>
            <ion-col size="4">
              <ion-button (click)="selectOption('Servicio')"
                [color]="selectedOption === 'Servicio' ? 'selected-services' : 'noselected-services'">
                <ion-col>
                  <ng-container *ngIf="selectedOption === 'Servicio'; else servicioInactiveIcon">
                    <ion-img src="assets/images/serviceswhite.png" class="sm-icon"></ion-img>
                  </ng-container>
                  <ng-template #servicioInactiveIcon>
                    <ion-img src="assets/images/services.png" class="sm-icon"></ion-img>
                  </ng-template>
                  <ion-label class="label-options">Servicio</ion-label>
                </ion-col>
              </ion-button>
            </ion-col>
            <ion-col size="4">
              <ion-button (click)="selectOption('Reparación')"
                [color]="selectedOption === 'Reparación' ? 'selected-services' : 'noselected-services'">
                <ion-col>
                  <ng-container *ngIf="selectedOption === 'Reparación'; else reparacionInactiveIcon">
                    <ion-img src="assets/images/fixedwhite.png" class="sm-icon"></ion-img>
                  </ng-container>
                  <ng-template #reparacionInactiveIcon>
                    <ion-img src="assets/images/fixed.png" class="sm-icon"></ion-img>
                  </ng-template>
                  <ion-label class="label-options">Reparación</ion-label>
                </ion-col>
              </ion-button>
            </ion-col>
            <ion-col size="4">
              <ion-button (click)="selectOption('Otro')"
                [color]="selectedOption === 'Otro' ? 'selected-services' : 'noselected-services'">
                <ion-col>
                  <ng-container *ngIf="selectedOption === 'Otro'; else otroInactiveIcon">
                    <ion-img src="assets/images/otrowhite.png" class="sm-icon"></ion-img>
                  </ng-container>
                  <ng-template #otroInactiveIcon>
                    <ion-img src="assets/images/otro.png" class="sm-icon"></ion-img>
                  </ng-template>
                  <ion-label class="label-options">Otro</ion-label>
                </ion-col>
              </ion-button>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <div class="custom-comentario" *ngIf="selectedOption === 'Otro'">
                <ion-item>
                  <ion-textarea type="textarea" [(ngModel)]="comentarios"
                    placeholder="Describa aquí el servicio que busca..." rows="4" class="textarea"></ion-textarea>
                </ion-item>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </div>

    <div class="background-container-second">
      <ion-item class="background-date">
        <ion-grid>
          <ion-col size="12">
            <div class="button-container-date">
              <div class="button-date">
                <ion-grid>
                  <ion-row>
                    <ion-col size="auto" class="icon-col">
                      <ion-icon name="calendar" class="icon"></ion-icon>
                    </ion-col>
                    <ion-col class="button-text-date">
                      <ion-label class="text">Agendar</ion-label>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </div>
            </div>
          </ion-col>

          <!-- Fecha para el servicio-->
          <div class="style-calendar">
            <ion-datetime presentation="date" display-format="DD/MMMM/YYYY" slot="start" locale="es-ES"
              [min]="getCurrentDate()" [(ngModel)]="date"></ion-datetime>
          </div>
        </ion-grid>
      </ion-item>
    </div>
  </div>
</ion-content>

<ion-footer class="footer">
  <ion-button class="next-button" (click)="sendRequest()" [ngClass]="{
  'enable-button': validateData(),
  'disable-button': !validateData()
}" [disabled]="!validateData()">
    <h3 class="title">Siguiente</h3>
  </ion-button>
</ion-footer>